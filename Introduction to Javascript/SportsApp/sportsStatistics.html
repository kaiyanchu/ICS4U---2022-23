<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.css">
    <link rel="stylesheet" href="sportsStatistics.css">
    <title>Document</title>
</head>
<body>

    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
          <a class="navbar-item" href="https://bulma.io">
            <img src="./images/Premier League Logo.png">
          </a>
      
          <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>
      
        <div id="navbarBasicExample" class="navbar-menu">
          <div class="navbar-start">
            <a class="navbar-item">
              League Standings
            </a>
      
            <a href="admin.html" class="navbar-item">
              Add Games
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
                <a href="games.html" class="navbar-item">
                    Games
                </a>
            </div>
        </div>
      </nav>


          <p class="title">
            Premier League Standings
          </p>

        </div>
      </section>
    <div>  
        <table class="table is-bordered is-hoverable" id="standings">
            <thead>
                <tr>
                    <th onclick ="sort('Name')">Name</th>
                    <th onclick = "sort('Wins')">Wins</th>
                    <th onclick ="sort('Losses')">Losses</th>
                    <th onclick="sort('PTS')">PTS</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</body>



<script>
    let teamData;
    let teams = [];
    let team = {};
        team['Name'] = 'AFC Bournemouth';
        team['id'] = 0;
        team['W'] = 7;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = []; 
        teams.push(team);
    team = {};
        team['Name'] = 'Arsenal';
        team['id'] = 1;
        team['W'] = 0;
        team['L'] = 3;
        team['PTS'] = 5;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Aston Villa';
        team['id'] = 2;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Brentford';
        team['id'] = 3;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Brighton & Hove Albion';
        team['id'] = 4;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Chelsea';
        team['id'] = 5;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Crystal Palace';
        team['id'] = 6;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Everton';
        team['id'] = 7;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Fulham';
        team['id'] = 8;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Leeds';
        team['id'] = 9;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Leicester';
        team['id'] = 10;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Liverpool';
        team['id'] = 11;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Manchester City';
        team['id'] = 12;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Manchester United';
        team['id'] = 13;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Newcastle United';
        team['id'] = 14;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Nottingham Forest';
        team['id'] = 15;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Southampton';
        team['id'] = 16;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Tottenham Hotspur';
        team['id'] = 17;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'West Ham United';
        team['id'] = 18;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);
    team = {};
        team['Name'] = 'Wolverhampton Wanderers';
        team['id'] = 19;
        team['W'] = 0;
        team['L'] = 0;
        team['PTS'] = 0;
        team['games'] = [];
        teams.push(team);

    console.log(teams);
    
    localStorage.setItem('teams', JSON.stringify(teams));

    createTable(teams);

     function createTable(teams){
         let tableBody = document.querySelector('#standings tbody');
         tableBody.replaceChildren();    
         teams.forEach((team) => {
             const row = document.createElement('tr');
             let td = document.createElement('td');
             td.textContent = team.Name;
             row.appendChild(td);

            td = document.createElement('td');
            td.textContent = team.W;
            row.appendChild(td);

            td = document.createElement('td');
            td.textContent = team.L;
            row.appendChild(td);

            td = document.createElement('td');
            td.textContent = team.PTS;
            row.appendChild(td);

            tableBody.appendChild(row);
        });
    }

    let isAtoZ;
    let isMostWins;
    let isMostLosses;
    let isMostPTS;

        function sort(field){
            if (field === 'Name'){
                if(!isAtoZ){
                    isAtoZ = true;
                    teams = teams.sort((teamA, teamB)=>{
                        return(teamA.Name < teamB.Name ? -1 : 1)
                    })
                }else{
                    teams = teams.sort((teamA, teamB)=>{
                        isAtoZ = false;
                        return(teamA.Name > teamB.Name ? -1 : 1)
                    })
                }

    
            }else if(field ==='PTS'){
                if(!isMostPTS){
                    isMostPTS = true;
                    teams = teams.sort((teamA, teamB)=>
                        (teamB.PTS - teamA.PTS)
                    )
                }else{
                    isMostPTS = false;
                    teams = teams.sort((teamA, teamB)=>
                        (teamA.PTS - teamB.PTS)
                    )
                }

            }else if(field === 'Wins'){
                if(!isMostWins){
                    isMostWins = true;
                    teams = teams.sort((teamA, teamB) =>
                    (teamB.W - teamA.W))
                } else{
                    isMostWins = false;
                    teams = teams.sort((teamA, teamB) =>
                    (teamA.W - teamB.W))
                }
            }else if(field === 'Losses'){
                if(!isMostLosses){
                    isMostLosses = true;
                    teams = teams.sort((teamA, teamB) =>
                         (teamB.L - teamA.L)
                    )
                }else{
                    isMostLosses = false;
                    teams = teams.sort((teamA, teamB) =>
                         (teamA.L - teamB.L)
                    )
                }

            }
            createTable(teams);
         }

</script>

</html>